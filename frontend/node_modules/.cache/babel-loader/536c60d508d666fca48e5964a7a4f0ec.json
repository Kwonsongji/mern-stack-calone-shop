{"ast":null,"code":"var _jsxFileName = \"/Users/SongJi/mern-stack-calone-shop/frontend/src/components/screens/Product/index.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport './style.scss'; //import moonPendant from '../../assets/fonts/moon-pendant.png';\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // Actions\n\nimport { getProductDetails } from '../../../redux/actions/productActions';\nimport { addToCart } from '../../../redux/actions/cartActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductScreen = ({\n  match,\n  history\n}) => {\n  _s();\n\n  const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n  const productDetails = useSelector(state => state.getProductDetails);\n  const {\n    loading,\n    error,\n    product\n  } = productDetails;\n  /* \n     useEffect(() => {\n       if (product && match.params.id !== product._id) {\n         dispatch(getProductDetails(match.params.id));\n       }\n     }, [dispatch, product, match]); */\n\n  useEffect(() => {\n    if (product && match.params.id !== product._id) {\n      dispatch(getProductDetails(match.params.id));\n    }\n  }, [dispatch, product, match]);\n\n  const addToCartHandler = () => {\n    dispatch(addToCart(product._id, qty));\n    history.push(\"/panier\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"productScreen\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 19\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productScreen__left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productScreen__left__image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image,\n            alt: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productScreen__left__info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"productScreen__left__name\",\n            children: [\" \", product.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"productScreen__left__price\",\n            children: [\" \", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"productScreen__left__material\",\n            children: [\" \", product.material]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productScreen__right\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productScreen__right__info\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"productScreen__right__price\",\n            children: [\"Prix: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\" \", product.price, \" euros \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"productScreen__right__status\",\n            children: [\"Statut:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: product.countInStock > 0 ? \"En Stock\" : \"En Rupture de Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"productScreen__right__qty\",\n            children: [\"Quantit\\xE9:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: qty\n              /* lorsqu'on slct le nbre voulu */\n              ,\n              onChange: e => setQty(e.target.value),\n              children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: x + 1,\n                children: x + 1\n              }, x + 1, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this) //on utilise l'instance array pour cr√©er un tableau de liste\n              )\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: addToCartHandler,\n              className: \"productScreen__right__add\",\n              children: \" Ajouter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductScreen, \"lDBTZcuE3rLJp3qsVWTmqiqsJAA=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["/Users/SongJi/mern-stack-calone-shop/frontend/src/components/screens/Product/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getProductDetails","addToCart","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","_id","addToCartHandler","push","image","name","price","material","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react';\nimport './style.scss';\n//import moonPendant from '../../assets/fonts/moon-pendant.png';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\n// Actions\nimport { getProductDetails } from '../../../redux/actions/productActions';\nimport { addToCart } from '../../../redux/actions/cartActions'; \n\nconst ProductScreen = ( {match, history}) => {\n   const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n  \n   const productDetails = useSelector(state => state.getProductDetails);\n   const { loading, error, product } = productDetails;\n/* \n   useEffect(() => {\n     if (product && match.params.id !== product._id) {\n       dispatch(getProductDetails(match.params.id));\n     }\n   }, [dispatch, product, match]); */\n  \n    useEffect(() => {\n     if (product && match.params.id !== product._id) {\n       dispatch(getProductDetails(match.params.id));\n     }\n   }, [dispatch, product, match]);\n  \n  const addToCartHandler = () => {\n    dispatch(addToCart(product._id, qty));\n    history.push(\"/panier\");\n  }\n  return (\n    <div className=\"productScreen\">\n      { loading ? <h2>Loading...</h2>\n        : error ? <h2>{error}</h2>\n          : (\n            <>\n              \n      <div className=\"productScreen__left\">\n        <div className=\"productScreen__left__image\">\n {/*                   <img src={moonPendant} alt={product.name} />  */}\n                  <img src={product.image} alt={product.name} /> \n        </div>\n        <div className=\"productScreen__left__info\">\n                  <p className=\"productScreen__left__name\"> {product.name}</p>\n                  <p className=\"productScreen__left__price\"> {product.price}</p>\n                  <p className=\"productScreen__left__material\"> {product.material}</p>\n        </div>\n      </div>\n      <div className=\"productScreen__right\">\n        <div className=\"productScreen__right__info\">\n          <p className=\"productScreen__right__price\">\n            Prix: <span> {product.price} euros </span>\n          </p>\n          <p className=\"productScreen__right__status\">\n                    Statut:\n                    <span>\n                      {product.countInStock > 0 ? \"En Stock\" : \"En Rupture de Stock\"}\n                    </span>\n          </p>\n          <p className=\"productScreen__right__qty\">\n            Quantit√©:\n                    <select value={qty} /* lorsqu'on slct le nbre voulu */\n                      onChange={(e) => setQty(e.target.value)}>\n                {[...Array(product.countInStock).keys()].map((x) => (\n                  <option\n                    key={x+1}\n                    value={x+1}\n                  >\n                    {x+1}\n                  </option> //on utilise l'instance array pour cr√©er un tableau de liste\n                ))}\n            </select>\n          </p>\n          <p>\n            <button\n              type=\"button\"\n              onClick={ addToCartHandler} \n              className=\"productScreen__right__add\"           \n              > Ajouter\n            </button>\n          </p>\n        </div>\n        \n      </div>\n            </> \n      )}\n            \n      \n    </div>\n  )\n}\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}